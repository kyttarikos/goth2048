<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Goth 2048 â€” Denise</title>
  <style>
    @font-face {
      font-display: swap;
      font-family: 'UnifrakturMaguntia';
      font-style: normal;
      font-weight: 400;
      src: url('../fonts/unifrakturmaguntia-v21-latin-regular.woff2') format('woff2');
    }
    body{
      margin:0;
      background:#000;
      color:#eee;
      font-family: 'Times New Roman', serif;
      display:flex;
      align-items:center;
      justify-content:center;
      height:100vh;
      overflow:hidden;
    }
    :root{
      --accent:#b30000;
    }
    .bg-lyrics{
      position:fixed; inset:0; z-index:0; pointer-events:none; overflow:hidden;
      display:flex; align-items:center; justify-content:center;
    }
    .bg-lyrics .layer{
      position:absolute; white-space:pre-wrap; text-align:center; font-family:'UnifrakturMaguntia', serif;
      font-size:28px; line-height:1.1; opacity:0.1; color:var(--accent);
      transform:rotate(-8deg); will-change:transform;
      animation: drift 40s linear infinite;
      padding:0 10vw;
    }
    @keyframes drift{
      0%{transform:translateY(-30vh) rotate(-8deg)}
      50%{transform:translateY(30vh) rotate(2deg)}
      100%{transform:translateY(-30vh) rotate(-8deg)}
    }
    .container{
      position:relative;
      z-index:1;
      background:rgba(0,0,0,0.6);
      border-radius:12px;
      padding:20px;
    }
    h1{
      font-family:'UnifrakturMaguntia', serif;
      margin:0;
      color:var(--accent);
      text-align:center;
    }
    .scorebox{
      background:#111; color:#fff; border-radius:8px; padding:8px 12px; text-align:center; margin-top:10px;
    }
    .board{
      width:320px; height:320px; background:#1b1b1b; border-radius:8px; display:grid; grid-template-columns:repeat(4,1fr); grid-template-rows:repeat(4,1fr); gap:8px; margin-top:20px; position:relative;
    }
    .cell{
      background:#111; border-radius:4px;
    }
    .tile{
      position:absolute; border-radius:4px; display:flex; align-items:center; justify-content:center; font-weight:700; color:#fff; font-size:20px; text-shadow:0 1px 0 #000;
      transition:transform 0.15s ease;
    }
    .t-2{background:#222}
    .t-4{background:#333}
    .t-8{background:#660000}
    .t-16{background:#800000}
    .t-32{background:#990000}
    .t-64{background:#b30000}
    .t-128{background:#cc0000}
    .t-256{background:#e60000}
    .t-512{background:#ff1a1a}
    .t-1024{background:#ff4d4d}
    .t-2048{background:linear-gradient(135deg,#ff8080,#b30000)}
    .signature{
      font-family:'UnifrakturMaguntia', serif;
      text-align:center;
      margin-top:10px;
      color:var(--accent);
    }
  </style>
</head>
<body>
  <div class="bg-lyrics">
    <div class="layer">I never said I'd lie in wait forever... If I died, we'd be together...</div>
  </div>
  <div class="container">
    <h1>Goth 2048</h1>
    <div class="scorebox">Score: <span id="score">0</span></div>
    <div id="board" class="board"></div>
    <div class="signature">ily &lt;3 - i.m.</div>
  </div>
<script>
const SIZE=4;let grid=[],tiles={},score=0;const boardEl=document.getElementById('board'),scoreEl=document.getElementById('score');
function createGrid(){grid=Array.from({length:SIZE},()=>Array(SIZE).fill(null));boardEl.innerHTML='';for(let r=0;r<SIZE;r++){for(let c=0;c<SIZE;c++){const cell=document.createElement('div');cell.className='cell';boardEl.appendChild(cell);}}}
function randEmpty(){const e=[];for(let r=0;r<SIZE;r++)for(let c=0;c<SIZE;c++)if(!grid[r][c])e.push([r,c]);return e[Math.floor(Math.random()*e.length)];}
function spawn(){const p=randEmpty();if(!p)return;const[r,c]=p,v=Math.random()<0.9?2:4,id='t'+Date.now()+Math.random();grid[r][c]={val:v,id};drawTile(r,c,grid[r][c]);}
function drawTile(r,c,obj){const cellSize=(boardEl.clientWidth-(SIZE-1)*8)/SIZE;const tile=document.createElement('div');tile.className='tile t-'+obj.val;tile.style.width=cellSize+'px';tile.style.height=cellSize+'px';tile.dataset.id=obj.id;tile.textContent=obj.val;boardEl.appendChild(tile);tiles[obj.id]=tile;positionTile(obj.id,r,c);}
function positionTile(id,r,c){const cellSize=(boardEl.clientWidth-(SIZE-1)*8)/SIZE;const x=c*(cellSize+8),y=r*(cellSize+8);tiles[id].style.transform=`translate(${x}px,${y}px)`;}
function move(dir){const vec={left:[0,-1],right:[0,1],up:[-1,0],down:[1,0]}[dir];let moved=false;const rangeR=[...Array(SIZE).keys()],rangeC=[...Array(SIZE).keys()];if(dir==='right')rangeC.reverse();if(dir==='down')rangeR.reverse();for(let r of rangeR){for(let c of rangeC){let cell=grid[r][c];if(!cell)continue;let rr=r,cc=c;while(true){const nr=rr+vec[0],nc=cc+vec[1];if(nr<0||nr>=SIZE||nc<0||nc>=SIZE)break;if(!grid[nr][nc]){rr=nr;cc=nc;}else if(grid[nr][nc].val===cell.val){grid[nr][nc].val*=2;score+=grid[nr][nc].val;scoreEl.textContent=score;grid[r][c]=null;tiles[cell.id].remove();positionTile(grid[nr][nc].id,nr,nc);moved=true;break;}else break;}if(rr!==r||cc!==c){grid[rr][cc]=cell;grid[r][c]=null;positionTile(cell.id,rr,cc);moved=true;}}}if(moved)spawn();}
window.addEventListener('keydown',e=>{const k=e.key.toLowerCase();if(k==='arrowleft'||k==='a')move('left');if(k==='arrowright'||k==='d')move('right');if(k==='arrowup'||k==='w')move('up');if(k==='arrowdown'||k==='s')move('down');});
createGrid();spawn();spawn();
</script>
</body>
</html>
